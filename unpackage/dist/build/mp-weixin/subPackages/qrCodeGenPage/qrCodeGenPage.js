"use strict";const e=require("../../common/vendor.js"),o=require("./uqrcode.js"),n={props:[],data:()=>({qrShow:!1,info:null,isDownload:!0}),methods:{handleChangeTextValue(e){this.info=e},inputInfo(e){this.info=String(e.detail.value),0==e.detail.value.length&&(this.qrShow=!1)},handleShowQRCode(){null!=this.info&&""!=this.info?this.qrFun(this.info):(this.qrShow=!1,e.index.showToast({title:"请输入信息",icon:"error",success:function(e){},fail:function(e){}}))},qrFun:function(e){this.qrShow=!0,o.uQRCode.make({canvasId:"qrcode",componentInstance:this,text:e,size:150,margin:0,backgroundColor:"#ffffff",foregroundColor:"#000000",fileType:"jpg",errorCorrectLevel:o.uQRCode.errorCorrectLevel.H,success:e=>{}})},async saveCanvas(){const o=await this.canvasToFilPath();return new Promise(((n,s)=>{e.index.saveImageToPhotosAlbum({filePath:o,success(e){n(e)},fail(e){s(e)}})}))},canvasToFilPath(o={}){return new Promise(((o,n)=>{e.index.canvasToTempFilePath({canvasId:"qrcode",success:n=>{e.index.showToast({title:"成功保存二维码到相册",icon:"success",success:function(e){},fail:function(e){}}),o(n.tempFilePath)},fail:e=>{n(e)}},this)}))}}};if(!Array){e.resolveComponent("defaultInput")()}Math;const s=e._export_sfc(n,[["render",function(o,n,s,a,t,i){return e.e({a:e.o(i.handleChangeTextValue),b:e.p({placeholder:"请输入信息"}),c:e.o(((...e)=>i.handleShowQRCode&&i.handleShowQRCode(...e))),d:null!=t.info},null!=t.info?{e:t.qrShow,f:t.qrShow,g:e.o(((...e)=>i.saveCanvas&&i.saveCanvas(...e)))}:{})}]]);wx.createPage(s);
