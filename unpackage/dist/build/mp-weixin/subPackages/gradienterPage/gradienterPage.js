"use strict";const e=require("../../common/vendor.js"),t=require("../../store/index.js"),o={data:()=>({top:180,left:180,backgroundColor:"#000000",regionBG:"#e72323",isOnAccelerometerChange:!0,x:0,y:0,z:0,alpha:0,beta:0}),onReady(){"android"!=t.store.getters.platform&&"ios"!=t.store.getters.platform&&e.index.showModal({title:"提示",content:"此功能需要在手机端才能正常使用。",showCancel:!1,success:function(e){e.confirm?console.log("用户点击确定"):e.cancel&&console.log("用户点击取消")}})},onLoad(t){let o=this;e.index.startGyroscope({interval:"normal",success(){e.index.onAccelerometerChange((function(e){if(!o.isOnAccelerometerChange)return;let t=(180*e.x).toFixed(2),r=-(180*e.y).toFixed(2),n=(180*e.z).toFixed(2),a=180+Number(r),c=180+Number(t),s=t/9.8,i=r/9.8,l=n/9.8;o.alpha=(180-Math.abs(180*Math.atan2(i,l)/Math.PI)).toFixed(2),o.beta=Math.abs(180*Math.atan2(s,Math.sqrt(i*i+l*l))/Math.PI).toFixed(2),o.top=a,o.left=c,o.x=t,o.y=r,o.z=n,o.regionBG=a>180&&a<190&&c>180&&c<190?"#82ec82":"#e72323"}))}})},onUnload(){this.isOnAccelerometerChange=!1,e.index.stopAccelerometer(),e.index.stopGyroscope()}};const r=e._export_sfc(o,[["render",function(t,o,r,n,a,c){return{a:e.t(a.alpha),b:e.t(a.beta),c:e.s("background:"+a.regionBG),d:e.s("background:"+a.backgroundColor+";top:"+a.top+"rpx;left:"+a.left+"rpx;")}}]]);wx.createPage(r);
